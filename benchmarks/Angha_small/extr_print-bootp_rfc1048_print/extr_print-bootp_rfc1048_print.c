a;
b(*g) {
  long d;
  int e;
  char c, f;
  while (h(*g)) {
    if (a)
      while (e) {
        g++;
        if (f)
          i();
      }
    if (c == '?')
      if (e & 1)
        c = 'b';
      else if (e)
        c = 1;
    switch (c) {
    case 'p':
      while (b)
        ;
    case 'b':
      while (e)
        i(c ? "" : ".");
      --e;
    case '$':
      switch (d) {
      case 0:
        if (e) {
          i();
          break;
        }
        d = g;
      }
    }
  }
}
