struct a {
  int b;
  int c;
  int d;
  int e;
  int f;
  int cbin;
  int g;
  int h;
  long i
} j(struct a *m, n) {
  int k, l, b;
  int *a;
  while (n) {
    if (m->c)
      if (m->d) {
        m->e = l++;
        k--;
        if (m->b == 3)
          if (m->f)
            m->c = 8;
          else if (m->i)
            m->b = 2;
          else
            m->b = 0;
      }
    switch (m->b) {
    case 2:
      if (k) {
        a++;
        b++;
        n--;
        break;
      }
    case 7:
      m->cbin = m;
    case 0:
      if (m->e & 1) {
        m->h++;
        m->e >>= 1;
        m->c--;
      } else {
        m->h = 0;
        m->e >>= 1;
        m->c--;
      }
      break;
    case 5:
      if (m->i) {
        m->b = 2;
        m->f = 0;
      } else
        m->b = m->f = 0;
    }
    if (m->i)
      if (m->g == 7)
        m->g++;
    if (m->g) {
      *a++ = b++;
      n--;
    }
  }
}
